(function () {
  var n = function (n, t) {
    n.beforeEach(function (f) {
      f = f.replaceAll('\r\n', '\n');
      const n =
        /(^\[\^.+?\]:.+?(?=(\n\n|\n$|\n\[\^.+?\]:|$(?!\n))))|(\^\[.+?\])/gms;
      const t = f.match(/```.*?```/gms);
      if (t) {
        t.forEach(function (n, t) {
          f = f.replace(n, '```' + t + '```');
        });
      }
      if (n.test(f)) {
        const c = f.match(n);
        const r = [];
        let e = 1;
        c.forEach(function (n) {
          if (/\^\[.*?\]/s.test(n)) {
            f = f.replace(
              n,
              `<sup class="footnote-symbol" id="ft-${e}">[\[${e}\]](#ftref-${e})</sup>`
            );
            r.push(
              `${e}. ${n
                .match(/\[(.*)\]/s)[1]
                .trim()
                .replaceAll(
                  '\n',
                  '<br />'
                )} <stronge id="ftref-${e}">[↩︎](#ft-${e})</stronge>\n`
            );
            e++;
          } else {
            const o = n.split(/(?<=\]):/);
            const t = new RegExp(
              '\\[\\^' + o[0].replace(/[\[\^\]]/g, '') + '\\](?!:)',
              'g'
            );
            f = f.replace(n, '');
            const c = f.match(t);
            if (c) {
              const s = [];
              c.forEach(function (n, t) {
                const c = t > 0 ? '-' + t : '';
                f = f.replace(
                  o[0],
                  `<sup class="footnote-symbol" id="ft-${e + c}">[\[${e + c}\]](#ftref-${e + c})</sup>`
                );
                s.push(
                  `<stronge id="ftref-${e + c}">[↩︎](#ft-${e + c})</stronge>`
                );
              });
              r.push(
                `${e}. ${o[1].trim().replaceAll('\n', '<br />')} ${s.join(' ')}\n`
              );
              e++;
            }
          }
        });
        f += `\n\n---\n ${r.join('')}`;
      }
      if (t) {
        t.forEach(function (n, t) {
          f = f.replace('```' + t + '```', n);
        });
      }
      return f;
    });
  };
  $docsify = $docsify || {};
  $docsify.plugins = [].concat($docsify.plugins || [], n);
})();
