/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var _t=Object.defineProperty;var er=Object.getOwnPropertyDescriptor;var rr=Object.getOwnPropertyNames;var or=Object.prototype.hasOwnProperty;var ir=(e,t)=>{for(var r in t)_t(e,r,{get:t[r],enumerable:!0})},nr=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of rr(t))!or.call(e,i)&&i!==r&&_t(e,i,{get:()=>t[i],enumerable:!(o=er(t,i))||o.enumerable});return e};var ar=e=>nr(_t({},"__esModule",{value:!0}),e);var Ur={};ir(Ur,{default:()=>Xt});module.exports=ar(Ur);var ze=require("obsidian");var sr="templater-obsidian";function be(e,t){var s,p,a,f;let r=(p=(s=e.app.plugins)==null?void 0:s.plugins)==null?void 0:p[sr];if(!r||!!!((a=r==null?void 0:r.settings)!=null&&a.enable_folder_templates))return!1;let i=(f=r==null?void 0:r.settings)==null?void 0:f.folder_templates.map(({folder:l})=>l);return Array.isArray(i)?!!i.some(l=>t.path.startsWith(l+"/")):!1}var me=require("obsidian");var Ue=require("obsidian");var E="top",C="bottom",A="right",P="left",Rt="auto",Q=[E,C,A,P],z="start",at="end",Te="clippingParents",It="viewport",vt="popper",Ee="reference",Jt=Q.reduce(function(e,t){return e.concat([t+"-"+z,t+"-"+at])},[]),Nt=[].concat(Q,[Rt]).reduce(function(e,t){return e.concat([t,t+"-"+z,t+"-"+at])},[]),pr="beforeRead",lr="read",fr="afterRead",mr="beforeMain",cr="main",ur="afterMain",dr="beforeWrite",gr="write",vr="afterWrite",Se=[pr,lr,fr,mr,cr,ur,dr,gr,vr];function D(e){return e?(e.nodeName||"").toLowerCase():null}function b(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function k(e){var t=b(e).Element;return e instanceof t||e instanceof Element}function L(e){var t=b(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function ht(e){if(typeof ShadowRoot=="undefined")return!1;var t=b(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function hr(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var o=t.styles[r]||{},i=t.attributes[r]||{},n=t.elements[r];!L(n)||!D(n)||(Object.assign(n.style,o),Object.keys(i).forEach(function(s){var p=i[s];p===!1?n.removeAttribute(s):n.setAttribute(s,p===!0?"":p)}))})}function xr(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(o){var i=t.elements[o],n=t.attributes[o]||{},s=Object.keys(t.styles.hasOwnProperty(o)?t.styles[o]:r[o]),p=s.reduce(function(a,f){return a[f]="",a},{});!L(i)||!D(i)||(Object.assign(i.style,p),Object.keys(n).forEach(function(a){i.removeAttribute(a)}))})}}var Oe={name:"applyStyles",enabled:!0,phase:"write",fn:hr,effect:xr,requires:["computeStyles"]};function B(e){return e.split("-")[0]}var q=Math.max,st=Math.min,_=Math.round;function xt(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Et(){return!/^((?!chrome|android).)*safari/i.test(xt())}function V(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var o=e.getBoundingClientRect(),i=1,n=1;t&&L(e)&&(i=e.offsetWidth>0&&_(o.width)/e.offsetWidth||1,n=e.offsetHeight>0&&_(o.height)/e.offsetHeight||1);var s=k(e)?b(e):window,p=s.visualViewport,a=!Et()&&r,f=(o.left+(a&&p?p.offsetLeft:0))/i,l=(o.top+(a&&p?p.offsetTop:0))/n,u=o.width/i,x=o.height/n;return{width:u,height:x,top:l,right:f+u,bottom:l+x,left:f,x:f,y:l}}function pt(e){var t=V(e),r=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:o}}function St(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&ht(r)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function H(e){return b(e).getComputedStyle(e)}function Kt(e){return["table","td","th"].indexOf(D(e))>=0}function I(e){return((k(e)?e.ownerDocument:e.document)||window.document).documentElement}function J(e){return D(e)==="html"?e:e.assignedSlot||e.parentNode||(ht(e)?e.host:null)||I(e)}function Pe(e){return!L(e)||H(e).position==="fixed"?null:e.offsetParent}function wr(e){var t=/firefox/i.test(xt()),r=/Trident/i.test(xt());if(r&&L(e)){var o=H(e);if(o.position==="fixed")return null}var i=J(e);for(ht(i)&&(i=i.host);L(i)&&["html","body"].indexOf(D(i))<0;){var n=H(i);if(n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].indexOf(n.willChange)!==-1||t&&n.willChange==="filter"||t&&n.filter&&n.filter!=="none")return i;i=i.parentNode}return null}function Y(e){for(var t=b(e),r=Pe(e);r&&Kt(r)&&H(r).position==="static";)r=Pe(r);return r&&(D(r)==="html"||D(r)==="body"&&H(r).position==="static")?t:r||wr(e)||t}function lt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ft(e,t,r){return q(e,st(t,r))}function Ae(e,t,r){var o=ft(e,t,r);return o>r?r:o}function Ot(){return{top:0,right:0,bottom:0,left:0}}function Pt(e){return Object.assign({},Ot(),e)}function At(e,t){return t.reduce(function(r,o){return r[o]=e,r},{})}var yr=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,Pt(typeof t!="number"?t:At(t,Q))};function br(e){var t,r=e.state,o=e.name,i=e.options,n=r.elements.arrow,s=r.modifiersData.popperOffsets,p=B(r.placement),a=lt(p),f=[P,A].indexOf(p)>=0,l=f?"height":"width";if(!(!n||!s)){var u=yr(i.padding,r),x=pt(n),m=a==="y"?E:P,y=a==="y"?C:A,g=r.rects.reference[l]+r.rects.reference[a]-s[a]-r.rects.popper[l],d=s[a]-r.rects.reference[a],w=Y(n),S=w?a==="y"?w.clientHeight||0:w.clientWidth||0:0,O=g/2-d/2,c=u[m],v=S-x[l]-u[y],h=S/2-x[l]/2+O,T=ft(c,h,v),R=a;r.modifiersData[o]=(t={},t[R]=T,t.centerOffset=T-h,t)}}function Tr(e){var t=e.state,r=e.options,o=r.element,i=o===void 0?"[data-popper-arrow]":o;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||St(t.elements.popper,i)&&(t.elements.arrow=i))}var Fe={name:"arrow",enabled:!0,phase:"main",fn:br,effect:Tr,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function $(e){return e.split("-")[1]}var Er={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Sr(e,t){var r=e.x,o=e.y,i=t.devicePixelRatio||1;return{x:_(r*i)/i||0,y:_(o*i)/i||0}}function Ce(e){var t,r=e.popper,o=e.popperRect,i=e.placement,n=e.variation,s=e.offsets,p=e.position,a=e.gpuAcceleration,f=e.adaptive,l=e.roundOffsets,u=e.isFixed,x=s.x,m=x===void 0?0:x,y=s.y,g=y===void 0?0:y,d=typeof l=="function"?l({x:m,y:g}):{x:m,y:g};m=d.x,g=d.y;var w=s.hasOwnProperty("x"),S=s.hasOwnProperty("y"),O=P,c=E,v=window;if(f){var h=Y(r),T="clientHeight",R="clientWidth";if(h===b(r)&&(h=I(r),H(h).position!=="static"&&p==="absolute"&&(T="scrollHeight",R="scrollWidth")),h=h,i===E||(i===P||i===A)&&n===at){c=C;var M=u&&h===v&&v.visualViewport?v.visualViewport.height:h[T];g-=M-o.height,g*=a?1:-1}if(i===P||(i===E||i===C)&&n===at){O=A;var F=u&&h===v&&v.visualViewport?v.visualViewport.width:h[R];m-=F-o.width,m*=a?1:-1}}var N=Object.assign({position:p},f&&Er),U=l===!0?Sr({x:m,y:g},b(r)):{x:m,y:g};if(m=U.x,g=U.y,a){var W;return Object.assign({},N,(W={},W[c]=S?"0":"",W[O]=w?"0":"",W.transform=(v.devicePixelRatio||1)<=1?"translate("+m+"px, "+g+"px)":"translate3d("+m+"px, "+g+"px, 0)",W))}return Object.assign({},N,(t={},t[c]=S?g+"px":"",t[O]=w?m+"px":"",t.transform="",t))}function Or(e){var t=e.state,r=e.options,o=r.gpuAcceleration,i=o===void 0?!0:o,n=r.adaptive,s=n===void 0?!0:n,p=r.roundOffsets,a=p===void 0?!0:p,f={placement:B(t.placement),variation:$(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Ce(Object.assign({},f,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:a})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Ce(Object.assign({},f,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Le={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Or,data:{}};var Wt={passive:!0};function Pr(e){var t=e.state,r=e.instance,o=e.options,i=o.scroll,n=i===void 0?!0:i,s=o.resize,p=s===void 0?!0:s,a=b(t.elements.popper),f=[].concat(t.scrollParents.reference,t.scrollParents.popper);return n&&f.forEach(function(l){l.addEventListener("scroll",r.update,Wt)}),p&&a.addEventListener("resize",r.update,Wt),function(){n&&f.forEach(function(l){l.removeEventListener("scroll",r.update,Wt)}),p&&a.removeEventListener("resize",r.update,Wt)}}var Me={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Pr,data:{}};var Ar={left:"right",right:"left",bottom:"top",top:"bottom"};function wt(e){return e.replace(/left|right|bottom|top/g,function(t){return Ar[t]})}var Fr={start:"end",end:"start"};function Ht(e){return e.replace(/start|end/g,function(t){return Fr[t]})}function mt(e){var t=b(e),r=t.pageXOffset,o=t.pageYOffset;return{scrollLeft:r,scrollTop:o}}function ct(e){return V(I(e)).left+mt(e).scrollLeft}function Qt(e,t){var r=b(e),o=I(e),i=r.visualViewport,n=o.clientWidth,s=o.clientHeight,p=0,a=0;if(i){n=i.width,s=i.height;var f=Et();(f||!f&&t==="fixed")&&(p=i.offsetLeft,a=i.offsetTop)}return{width:n,height:s,x:p+ct(e),y:a}}function Zt(e){var t,r=I(e),o=mt(e),i=(t=e.ownerDocument)==null?void 0:t.body,n=q(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=q(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),p=-o.scrollLeft+ct(e),a=-o.scrollTop;return H(i||r).direction==="rtl"&&(p+=q(r.clientWidth,i?i.clientWidth:0)-n),{width:n,height:s,x:p,y:a}}function ut(e){var t=H(e),r=t.overflow,o=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+o)}function jt(e){return["html","body","#document"].indexOf(D(e))>=0?e.ownerDocument.body:L(e)&&ut(e)?e:jt(J(e))}function Z(e,t){var r;t===void 0&&(t=[]);var o=jt(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),n=b(o),s=i?[n].concat(n.visualViewport||[],ut(o)?o:[]):o,p=t.concat(s);return i?p:p.concat(Z(J(s)))}function yt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Cr(e,t){var r=V(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function De(e,t,r){return t===It?yt(Qt(e,r)):k(t)?Cr(t,r):yt(Zt(I(e)))}function Lr(e){var t=Z(J(e)),r=["absolute","fixed"].indexOf(H(e).position)>=0,o=r&&L(e)?Y(e):e;return k(o)?t.filter(function(i){return k(i)&&St(i,o)&&D(i)!=="body"}):[]}function te(e,t,r,o){var i=t==="clippingParents"?Lr(e):[].concat(t),n=[].concat(i,[r]),s=n[0],p=n.reduce(function(a,f){var l=De(e,f,o);return a.top=q(l.top,a.top),a.right=st(l.right,a.right),a.bottom=st(l.bottom,a.bottom),a.left=q(l.left,a.left),a},De(e,s,o));return p.width=p.right-p.left,p.height=p.bottom-p.top,p.x=p.left,p.y=p.top,p}function Ft(e){var t=e.reference,r=e.element,o=e.placement,i=o?B(o):null,n=o?$(o):null,s=t.x+t.width/2-r.width/2,p=t.y+t.height/2-r.height/2,a;switch(i){case E:a={x:s,y:t.y-r.height};break;case C:a={x:s,y:t.y+t.height};break;case A:a={x:t.x+t.width,y:p};break;case P:a={x:t.x-r.width,y:p};break;default:a={x:t.x,y:t.y}}var f=i?lt(i):null;if(f!=null){var l=f==="y"?"height":"width";switch(n){case z:a[f]=a[f]-(t[l]/2-r[l]/2);break;case at:a[f]=a[f]+(t[l]/2-r[l]/2);break;default:}}return a}function G(e,t){t===void 0&&(t={});var r=t,o=r.placement,i=o===void 0?e.placement:o,n=r.strategy,s=n===void 0?e.strategy:n,p=r.boundary,a=p===void 0?Te:p,f=r.rootBoundary,l=f===void 0?It:f,u=r.elementContext,x=u===void 0?vt:u,m=r.altBoundary,y=m===void 0?!1:m,g=r.padding,d=g===void 0?0:g,w=Pt(typeof d!="number"?d:At(d,Q)),S=x===vt?Ee:vt,O=e.rects.popper,c=e.elements[y?S:x],v=te(k(c)?c:c.contextElement||I(e.elements.popper),a,l,s),h=V(e.elements.reference),T=Ft({reference:h,element:O,strategy:"absolute",placement:i}),R=yt(Object.assign({},O,T)),M=x===vt?R:h,F={top:v.top-M.top+w.top,bottom:M.bottom-v.bottom+w.bottom,left:v.left-M.left+w.left,right:M.right-v.right+w.right},N=e.modifiersData.offset;if(x===vt&&N){var U=N[i];Object.keys(F).forEach(function(W){var et=[A,C].indexOf(W)>=0?1:-1,rt=[E,C].indexOf(W)>=0?"y":"x";F[W]+=U[rt]*et})}return F}function ee(e,t){t===void 0&&(t={});var r=t,o=r.placement,i=r.boundary,n=r.rootBoundary,s=r.padding,p=r.flipVariations,a=r.allowedAutoPlacements,f=a===void 0?Nt:a,l=$(o),u=l?p?Jt:Jt.filter(function(y){return $(y)===l}):Q,x=u.filter(function(y){return f.indexOf(y)>=0});x.length===0&&(x=u);var m=x.reduce(function(y,g){return y[g]=G(e,{placement:g,boundary:i,rootBoundary:n,padding:s})[B(g)],y},{});return Object.keys(m).sort(function(y,g){return m[y]-m[g]})}function Mr(e){if(B(e)===Rt)return[];var t=wt(e);return[Ht(e),t,Ht(t)]}function Dr(e){var t=e.state,r=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var i=r.mainAxis,n=i===void 0?!0:i,s=r.altAxis,p=s===void 0?!0:s,a=r.fallbackPlacements,f=r.padding,l=r.boundary,u=r.rootBoundary,x=r.altBoundary,m=r.flipVariations,y=m===void 0?!0:m,g=r.allowedAutoPlacements,d=t.options.placement,w=B(d),S=w===d,O=a||(S||!y?[wt(d)]:Mr(d)),c=[d].concat(O).reduce(function(gt,K){return gt.concat(B(K)===Rt?ee(t,{placement:K,boundary:l,rootBoundary:u,padding:f,flipVariations:y,allowedAutoPlacements:g}):K)},[]),v=t.rects.reference,h=t.rects.popper,T=new Map,R=!0,M=c[0],F=0;F<c.length;F++){var N=c[F],U=B(N),W=$(N)===z,et=[E,C].indexOf(U)>=0,rt=et?"width":"height",j=G(t,{placement:N,boundary:l,rootBoundary:u,altBoundary:x,padding:f}),X=et?W?A:P:W?C:E;v[rt]>h[rt]&&(X=wt(X));var Ct=wt(X),ot=[];if(n&&ot.push(j[U]<=0),p&&ot.push(j[X]<=0,j[Ct]<=0),ot.every(function(gt){return gt})){M=N,R=!1;break}T.set(N,ot)}if(R)for(var Lt=y?3:1,qt=function(K){var Tt=c.find(function(Dt){var it=T.get(Dt);if(it)return it.slice(0,K).every(function(Yt){return Yt})});if(Tt)return M=Tt,"break"},bt=Lt;bt>0;bt--){var Mt=qt(bt);if(Mt==="break")break}t.placement!==M&&(t.modifiersData[o]._skip=!0,t.placement=M,t.reset=!0)}}var Be={name:"flip",enabled:!0,phase:"main",fn:Dr,requiresIfExists:["offset"],data:{_skip:!1}};function Re(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function Ie(e){return[E,A,C,P].some(function(t){return e[t]>=0})}function Br(e){var t=e.state,r=e.name,o=t.rects.reference,i=t.rects.popper,n=t.modifiersData.preventOverflow,s=G(t,{elementContext:"reference"}),p=G(t,{altBoundary:!0}),a=Re(s,o),f=Re(p,i,n),l=Ie(a),u=Ie(f);t.modifiersData[r]={referenceClippingOffsets:a,popperEscapeOffsets:f,isReferenceHidden:l,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":u})}var Ne={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Br};function Rr(e,t,r){var o=B(e),i=[P,E].indexOf(o)>=0?-1:1,n=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,s=n[0],p=n[1];return s=s||0,p=(p||0)*i,[P,A].indexOf(o)>=0?{x:p,y:s}:{x:s,y:p}}function Ir(e){var t=e.state,r=e.options,o=e.name,i=r.offset,n=i===void 0?[0,0]:i,s=Nt.reduce(function(l,u){return l[u]=Rr(u,t.rects,n),l},{}),p=s[t.placement],a=p.x,f=p.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=a,t.modifiersData.popperOffsets.y+=f),t.modifiersData[o]=s}var We={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ir};function Nr(e){var t=e.state,r=e.name;t.modifiersData[r]=Ft({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var He={name:"popperOffsets",enabled:!0,phase:"read",fn:Nr,data:{}};function re(e){return e==="x"?"y":"x"}function Wr(e){var t=e.state,r=e.options,o=e.name,i=r.mainAxis,n=i===void 0?!0:i,s=r.altAxis,p=s===void 0?!1:s,a=r.boundary,f=r.rootBoundary,l=r.altBoundary,u=r.padding,x=r.tether,m=x===void 0?!0:x,y=r.tetherOffset,g=y===void 0?0:y,d=G(t,{boundary:a,rootBoundary:f,padding:u,altBoundary:l}),w=B(t.placement),S=$(t.placement),O=!S,c=lt(w),v=re(c),h=t.modifiersData.popperOffsets,T=t.rects.reference,R=t.rects.popper,M=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,F=typeof M=="number"?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),N=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,U={x:0,y:0};if(h){if(n){var W,et=c==="y"?E:P,rt=c==="y"?C:A,j=c==="y"?"height":"width",X=h[c],Ct=X+d[et],ot=X-d[rt],Lt=m?-R[j]/2:0,qt=S===z?T[j]:R[j],bt=S===z?-R[j]:-T[j],Mt=t.elements.arrow,gt=m&&Mt?pt(Mt):{width:0,height:0},K=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Ot(),Tt=K[et],Dt=K[rt],it=ft(0,T[j],gt[j]),Yt=O?T[j]/2-Lt-it-Tt-F.mainAxis:qt-it-Tt-F.mainAxis,_e=O?-T[j]/2+Lt+it+Dt+F.mainAxis:bt+it+Dt+F.mainAxis,Gt=t.elements.arrow&&Y(t.elements.arrow),Je=Gt?c==="y"?Gt.clientTop||0:Gt.clientLeft||0:0,ce=(W=N==null?void 0:N[c])!=null?W:0,Ke=X+Yt-ce-Je,Qe=X+_e-ce,ue=ft(m?st(Ct,Ke):Ct,X,m?q(ot,Qe):ot);h[c]=ue,U[c]=ue-X}if(p){var de,Ze=c==="x"?E:P,tr=c==="x"?C:A,nt=h[v],Bt=v==="y"?"height":"width",ge=nt+d[Ze],ve=nt-d[tr],zt=[E,P].indexOf(w)!==-1,he=(de=N==null?void 0:N[v])!=null?de:0,xe=zt?ge:nt-T[Bt]-R[Bt]-he+F.altAxis,we=zt?nt+T[Bt]+R[Bt]-he-F.altAxis:ve,ye=m&&zt?Ae(xe,nt,we):ft(m?xe:ge,nt,m?we:ve);h[v]=ye,U[v]=ye-nt}t.modifiersData[o]=U}}var je={name:"preventOverflow",enabled:!0,phase:"main",fn:Wr,requiresIfExists:["offset"]};function oe(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function ie(e){return e===b(e)||!L(e)?mt(e):oe(e)}function Hr(e){var t=e.getBoundingClientRect(),r=_(t.width)/e.offsetWidth||1,o=_(t.height)/e.offsetHeight||1;return r!==1||o!==1}function ne(e,t,r){r===void 0&&(r=!1);var o=L(t),i=L(t)&&Hr(t),n=I(t),s=V(e,i,r),p={scrollLeft:0,scrollTop:0},a={x:0,y:0};return(o||!o&&!r)&&((D(t)!=="body"||ut(n))&&(p=ie(t)),L(t)?(a=V(t,!0),a.x+=t.clientLeft,a.y+=t.clientTop):n&&(a.x=ct(n))),{x:s.left+p.scrollLeft-a.x,y:s.top+p.scrollTop-a.y,width:s.width,height:s.height}}function jr(e){var t=new Map,r=new Set,o=[];e.forEach(function(n){t.set(n.name,n)});function i(n){r.add(n.name);var s=[].concat(n.requires||[],n.requiresIfExists||[]);s.forEach(function(p){if(!r.has(p)){var a=t.get(p);a&&i(a)}}),o.push(n)}return e.forEach(function(n){r.has(n.name)||i(n)}),o}function ae(e){var t=jr(e);return Se.reduce(function(r,o){return r.concat(t.filter(function(i){return i.phase===o}))},[])}function se(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function pe(e){var t=e.reduce(function(r,o){var i=r[o.name];return r[o.name]=i?Object.assign({},i,o,{options:Object.assign({},i.options,o.options),data:Object.assign({},i.data,o.data)}):o,r},{});return Object.keys(t).map(function(r){return t[r]})}var ke={placement:"bottom",modifiers:[],strategy:"absolute"};function Ve(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function $e(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,o=r===void 0?[]:r,i=t.defaultOptions,n=i===void 0?ke:i;return function(p,a,f){f===void 0&&(f=n);var l={placement:"bottom",orderedModifiers:[],options:Object.assign({},ke,n),modifiersData:{},elements:{reference:p,popper:a},attributes:{},styles:{}},u=[],x=!1,m={state:l,setOptions:function(w){var S=typeof w=="function"?w(l.options):w;g(),l.options=Object.assign({},n,l.options,S),l.scrollParents={reference:k(p)?Z(p):p.contextElement?Z(p.contextElement):[],popper:Z(a)};var O=ae(pe([].concat(o,l.options.modifiers)));return l.orderedModifiers=O.filter(function(c){return c.enabled}),y(),m.update()},forceUpdate:function(){if(!x){var w=l.elements,S=w.reference,O=w.popper;if(Ve(S,O)){l.rects={reference:ne(S,Y(O),l.options.strategy==="fixed"),popper:pt(O)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function(F){return l.modifiersData[F.name]=Object.assign({},F.data)});for(var c=0;c<l.orderedModifiers.length;c++){if(l.reset===!0){l.reset=!1,c=-1;continue}var v=l.orderedModifiers[c],h=v.fn,T=v.options,R=T===void 0?{}:T,M=v.name;typeof h=="function"&&(l=h({state:l,options:R,name:M,instance:m})||l)}}}},update:se(function(){return new Promise(function(d){m.forceUpdate(),d(l)})}),destroy:function(){g(),x=!0}};if(!Ve(p,a))return m;m.setOptions(f).then(function(d){!x&&f.onFirstUpdate&&f.onFirstUpdate(d)});function y(){l.orderedModifiers.forEach(function(d){var w=d.name,S=d.options,O=S===void 0?{}:S,c=d.effect;if(typeof c=="function"){var v=c({state:l,name:w,instance:m,options:O}),h=function(){};u.push(v||h)}})}function g(){u.forEach(function(d){return d()}),u=[]}return m}}var kr=[Me,He,Le,Oe,We,Be,je,Fe,Ne],le=$e({defaultModifiers:kr});var fe=class{constructor(t,r,o){this.wrapAround=(t,r)=>(t%r+r)%r;this.owner=t,this.containerEl=r,r.on("click",".suggestion-item",this.onSuggestionClick.bind(this)),r.on("mousemove",".suggestion-item",this.onSuggestionMouseover.bind(this)),o.register([],"ArrowUp",i=>{if(!i.isComposing)return this.setSelectedItem(this.selectedItem-1,!0),!1}),o.register([],"ArrowDown",i=>{if(!i.isComposing)return this.setSelectedItem(this.selectedItem+1,!0),!1}),o.register([],"Enter",i=>{if(!i.isComposing)return this.useSelectedItem(i),!1})}onSuggestionClick(t,r){t.preventDefault();let o=this.suggestions.indexOf(r);this.setSelectedItem(o,!1),this.useSelectedItem(t)}onSuggestionMouseover(t,r){let o=this.suggestions.indexOf(r);this.setSelectedItem(o,!1)}setSuggestions(t){this.containerEl.empty();let r=[];t.forEach(o=>{let i=this.containerEl.createDiv("suggestion-item");this.owner.renderSuggestion(o,i),r.push(i)}),this.values=t,this.suggestions=r,this.setSelectedItem(0,!1)}useSelectedItem(t){let r=this.values[this.selectedItem];r&&this.owner.selectSuggestion(r,t)}setSelectedItem(t,r){let o=this.wrapAround(t,this.suggestions.length),i=this.suggestions[this.selectedItem],n=this.suggestions[o];i==null||i.removeClass("is-selected"),n==null||n.addClass("is-selected"),this.selectedItem=o,r&&n.scrollIntoView(!1)}},kt=class{constructor(t,r){this.app=t,this.inputEl=r,this.scope=new Ue.Scope,this.suggestEl=createDiv("suggestion-container");let o=this.suggestEl.createDiv("suggestion");this.suggest=new fe(this,o,this.scope),this.scope.register([],"Escape",this.close.bind(this)),this.inputEl.addEventListener("input",this.onInputChanged.bind(this)),this.inputEl.addEventListener("focus",this.onInputChanged.bind(this)),this.inputEl.addEventListener("blur",this.close.bind(this)),this.suggestEl.on("mousedown",".suggestion-container",i=>{i.preventDefault()})}async onInputChanged(){let t=this.inputEl.value,r=performance.now(),o=await this.getSuggestions(t);if(!o){this.close();return}let i=this.inputEl.dataset.closedAt?parseFloat(this.inputEl.dataset.closedAt):0;i&&i>r||(o.length>0?(this.suggest.setSuggestions(o),this.open(this.app.dom.appContainerEl,this.inputEl)):this.close())}open(t,r){app.keymap.pushScope(this.scope),t.appendChild(this.suggestEl),this.popper=le(r,this.suggestEl,{placement:"bottom-start",modifiers:[{name:"sameWidth",enabled:!0,fn:({state:o,instance:i})=>{let n=`${o.rects.reference.width}px`;o.styles.popper.width!==n&&(o.styles.popper.width=n,i.update())},phase:"beforeWrite",requires:["computeStyles"]}]})}close(){this.app.keymap.popScope(this.scope),this.inputEl.dataset.closedAt=performance.now().toString(),this.suggest.setSuggestions([]),this.popper&&this.popper.destroy(),this.suggestEl.detach()}};var Xe=require("obsidian");async function dt(e){let t=await e.vault.readConfigJson("templates");return t==null?void 0:t.folder}var qe=async e=>{let t=await dt(e);return t?e.vault.getAllLoadedFiles().filter(o=>o.path.startsWith(t)&&o.path.endsWith(".md")&&o instanceof Xe.TFile):[]},Ye=e=>e.path.endsWith(".md"),Vt=e=>{document.documentElement.style.setProperty("--auto-template-prompt-modal-opacity",e.toString())};var $t=class extends kt{async getSuggestions(t){let r=await dt(this.app),o=this.app.vault.getAllLoadedFiles(),i=[],n=t.toLowerCase();return o.forEach(s=>{s instanceof me.TFolder&&s.path.toLowerCase().contains(n)&&s.path&&s.path!==r&&i.push(s)}),i}renderSuggestion(t,r){r.setText(t.path)}selectSuggestion(t){this.inputEl.value=t.path,this.inputEl.trigger("input"),this.close()}};var tt=require("obsidian");var Ge={folderSpecificTemplates:[]},Ut=class extends tt.PluginSettingTab{constructor(r,o){super(r,o);this.plugin=o}display(){let{containerEl:r}=this;r.empty(),new tt.Setting(r).setName("Folder specific templates").setHeading().setDesc("Select a template, which will be automatically applied on new notes in the selected folder. The most specific folder path will be used."),this.plugin.settings.folderSpecificTemplates.map(({folderPath:o,templateName:i},n)=>{new tt.Setting(this.containerEl).addSearch(s=>{new $t(this.app,s.inputEl),s.setValue(o),s.setPlaceholder("Select a folder"),s.onChange(()=>{this.plugin.settings.folderSpecificTemplates[n].folderPath=s.getValue(),this.plugin.saveSettings()})}).addDropdown(async s=>{let p=await dt(this.app);if(!p)return[];let a=this.app.vault.getAllLoadedFiles().filter(l=>l.path.startsWith(p)),f=[];a.forEach(l=>{let u=this.plugin.settings.folderSpecificTemplates[n].templateName;l instanceof tt.TFile&&l.extension==="md"&&s.addOption(l.basename,`Template: ${l.basename}`),s.setValue(u)}),s.onChange(l=>{this.plugin.settings.folderSpecificTemplates[n].templateName=l,this.plugin.saveSettings()})}).addExtraButton(s=>{s.setIcon("trash").onClick(()=>{this.plugin.settings.folderSpecificTemplates.splice(n,1),this.plugin.saveSettings(),this.display()})})}),new tt.Setting(r).addButton(o=>{o.setButtonText("Add").onClick(()=>{this.plugin.settings.folderSpecificTemplates.push({folderPath:"",templateName:""}),this.plugin.saveSettings(),this.display()})})}};var Vr="suggestion-item",$r="insert-template",Xt=class extends ze.Plugin{constructor(){super(...arguments);this.isReady=!1}async onload(){Vt(1),this.app.workspace.onLayoutReady(()=>{this.isReady=!0}),await this.loadSettings(),this.addSettingTab(new Ut(this.app,this)),this.registerEvent(this.app.workspace.on("file-open",async r=>{if(!r)return;await this.shouldTriggerTemplatePrompt(r)&&this.handleTemplateTrigger()}))}async loadSettings(){this.settings=Object.assign({},Ge,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}async shouldTriggerTemplatePrompt(r){var a;let o,i,n;if(!this.isReady||!Ye(r)||(o=r.stat.ctime===r.stat.mtime,i=r.stat.size===0,n=((a=this.app.workspace.getActiveFile())==null?void 0:a.path)===r.path,!o||!i||!n))return!1;let s=await dt(app),p=r.path.startsWith(s);return!(!s||p||be(this,r))}async handleTemplateTrigger(){let r=await qe(app);if(r.length===0&&console.error("No template files found"),r.length===1&&this.applySpecificTemplate(r[0].basename),r.length>1){let i=this.settings.folderSpecificTemplates.length>=0?this.findAssignedTemplate():null;i&&this.applySpecificTemplate(i),i||this.triggerTemplateSelectorPrompt()}}findAssignedTemplate(){var p;let r=(p=this.app.workspace.getActiveFile())==null?void 0:p.parent;if(!r){console.error("findAssignedTemplate: No active folder");return}let o="/",n=r.path.split("/").reduce((a,f)=>{if(a.length){let u=[a[a.length-1],f].join("/");return[...a,u]}else return[f]},[]);n.push(o),n.sort((a,f)=>f.length-a.length);let s;return n.forEach(a=>{if(s)return;s=this.settings.folderSpecificTemplates.find(({folderPath:l})=>l===a)}),s==null?void 0:s.templateName}applySpecificTemplate(r){Vt(0),this.triggerTemplateSelectorPrompt();let i=Array.from(document.getElementsByClassName(Vr)).find(n=>n.textContent===r);i instanceof HTMLElement?(i.scrollIntoView(),i.click()):console.error("Template not found: ",r),Vt(1)}triggerTemplateSelectorPrompt(){this.app.commands.executeCommandById($r)}};

/* nosourcemap */